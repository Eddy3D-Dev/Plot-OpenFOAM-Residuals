<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Plot OpenFOAM Residuals</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap"
        rel="stylesheet"
    >
    <link rel="stylesheet" href="./styles.css">
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js" defer></script>
    <script type="module" src="./app.js" defer></script>
</head>
<body>
    <div class="background-shape background-shape-left" aria-hidden="true"></div>
    <div class="background-shape background-shape-right" aria-hidden="true"></div>

    <main class="app-shell">
        <header class="hero panel">
            <p class="hero-kicker">OpenFOAM Diagnostics</p>
            <h1>Plot Residuals</h1>
            <p>
                Upload one or more <code>residual.dat</code> files from <code>postProcessing</code>
                and switch between interactive, static, and table views.
            </p>
        </header>

        <section class="controls panel">
            <h2>Plot Settings</h2>
            <div class="controls-grid">
                <label class="control-field">
                    <span>Figure Width</span>
                    <input id="figure-width" type="number" min="1" step="1" value="10">
                </label>
                <label class="control-field">
                    <span>Figure Height</span>
                    <input id="figure-height" type="number" min="1" step="1" value="4">
                </label>
                <label class="control-check">
                    <input id="show-filenames" type="checkbox">
                    <span>Show Filenames</span>
                </label>
            </div>
        </section>

        <section class="uploader panel">
            <h2>Files</h2>
            <label class="upload-trigger" for="residual-files">
                <span>Upload <code>residual.dat</code> files</span>
                <small>.dat files, multiple selection supported</small>
            </label>
            <input id="residual-files" type="file" accept=".dat" multiple>
            <p class="uploader-help">
                Files are parsed locally in your browser and never uploaded to a server.
            </p>
            <p id="file-summary" class="file-summary">No files selected.</p>
        </section>

        <section class="tab-controls panel" aria-label="Result views">
            <button class="tab-button is-active" data-tab="altair" type="button">Altair</button>
            <button class="tab-button" data-tab="matplotlib" type="button">Matplotlib</button>
            <button class="tab-button" data-tab="dataframe" type="button">Dataframe</button>
        </section>

        <section id="panel-altair" class="tab-panel panel is-active" role="tabpanel" aria-label="Altair"></section>
        <section id="panel-matplotlib" class="tab-panel panel" role="tabpanel" aria-label="Matplotlib"></section>
        <section id="panel-dataframe" class="tab-panel panel" role="tabpanel" aria-label="Dataframe"></section>
    </main>

    <noscript>
        This app needs JavaScript enabled to parse and plot residual files.
    </noscript>
</body>
</html>
